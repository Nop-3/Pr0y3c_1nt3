<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página 2</title>
    <link rel="stylesheet" href="css/page2.css"> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"> <!--Biblioteca cloud flare  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"> <!--Biblioteca cloud flare  -->
</head>
<body>

    <header>
        <section class="contenedor-header">
            <section class="logotipo">
                 <a href="index.html">  <img src="img/logo.png" alt="Logo Empresa"></a>
            </section>
            <section class="cabecera-elementos-derecha">
                <section class="contenedor-nav">
                    <nav class="enlaces">
                        <ul>
                            <li><a href="pagina3.html">Asistencias</a></li>  
                            <li><a href="page4.html">Mis cursos</a></li>
                            <li><a href="">Perfil </a></li>
                            <li><a href="">Ecesde</a></li>
                        </ul>
                    </nav>
                </section>
                <section class="contenedor-menu-hamburguesa">
                    <section class="icono-hamburguesa">
                        <i class="fas fa-bars"></i>
                    </section>
                    <nav class="navegacion-desplegable">
                        <ul class="enlaces-desplegable">
                            <li><a href="">Perfil</a></li>
                            <li><a href="">Generar ticket</a></li>
                            <li><a href="index.html">Cerrar sesión</a></li>
                            
                        </ul>
                    </nav>
                </section>
            </section>
        </section>
    </header>

    <div class="profile-container">
        <div class="profile-image">
            <img src="img/img.jpg" alt="Foto del Profesor">
        </div>
        <div class="profile-info">
            <h2>Dr. Juan Pérez</h2>
            <div class="info-item">
                <span class="info-label1">Departamento:</span> Ingeniería de Sistemas.
            </div>
            <div class="info-item">
                <span class="info-label2">Cargo:</span> Profesor Titular.
            </div>
            <hr>
        </div>
    </div>

    <section class="espacio">
        <h1></h1>
    </section>

    <main>
        <section id="registro-notas" class="content-semestre active">
            <div class="table-container card">
                <div class="table-header">
                    <h3>Registro de Calificaciones.</h3>
                    <p></p>
                </div>
                <table id="tabla-calificaciones">
                    <thead>
                        <tr>
                            <th rowspan="2">Estudiante</th>
                            <th colspan="3">Momento 1 - 30%</th>
                            <th colspan="3">Momento 2 - 35%</th>
                            <th colspan="3">Momento 3 - 35%</th>
                            <th rowspan="2">Nota Final</th>
                            <th rowspan="2">Acciones</th>
                        </tr>
                        <tr>
                            <th>Nota 1</th><th>Nota 2</th><th>Nota 3</th>
                            <th>Nota 1</th><th>Nota 2</th><th>Nota 3</th>
                            <th>Nota 1</th><th>Nota 2</th><th>Nota 3</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Kelly Fonseca Gomez</td>
                            <td><input type="number" step="0.1" min="0" max="5.0"></td>
                            <td><input type="number" step="0.1" min="0" max="5.0"></td>
                            <td><input type="number" step="0.1" min="0" max="5.0"></td>
                            <td><input type="number" step="0.1" min="0" max="5.0"></td>
                            <td><input type="number" step="0.1" min="0" max="5.0"></td>
                            <td><input type="number" step="0.1" min="0" max="5.0"></td>
                            <td><input type="number" step="0.1" min="0" max="5.0"></td>
                            <td><input type="number" step="0.1" min="0" max="5.0"></td>
                            <td><input type="number" step="0.1" min="0" max="5.0"></td>
                            <td class="nota-final">-</td>
                            <td>
                                <div class="acciones-container">
                                    <label for="modal-notas-1" class="btn-icono"><i class="fas fa-ellipsis-v"></i></label>
                                    <input type="checkbox" id="modal-notas-1" class="modal-toggle">
                                    <div class="modal">
                                        <div class="modal-contenido">
                                            <label for="modal-notas-1" class="modal-cerrar-btn"><i class="fas fa-times"></i></label>
                                            <div class="modal-acciones">
                                                <button class="btn-modal editar"><i class="fas fa-pencil-alt"></i> Editar Notas</button>
                                                <button class="btn-modal borrar"><i class="fas fa-trash-alt"></i> Borrar Notas</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        </tbody>
                </table>
            </div>
        </section>
        <div class="acciones">
            <button class="btn-guardar js-guardar-notas">Guardar cambios</button>
        </div>
    </main>

    <br>

 <footer>
    <section class="contenedor-pie-pagina">
        <section class="redes-sociales">
            <a href="https://www.facebook.com/Cesde/?locale=es_LA" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
            <a href="https://x.com/encesde?lang=es" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
            <a href="https://www.instagram.com/somoscesde/" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
            <a href="https://co.linkedin.com/company/cesde-formaci%C3%B3n-t%C3%A9cnica" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
        </section>
        <section class="informacion-empresa">
            
            <p>Medellín: Carrera 42 # 48 - 20, Colombia.</p>
            <p>Email: comunicaciones@cesde.edu.co| Teléfono: (604)4808822</p>
            <p>&copy; © Copyright Cesde. Todos los derechos reservados.</p>
        <br>
        
            <P>Creado por: Miguel Palomino</P>
            <p>Proyecto de clases.</p>
        </section>
        </section>
</footer>


<!-- Inicio de lógica JavaScript -->
    <script>
        
        const botonGuardar = document.querySelector('.js-guardar-notas');

        function guardarNotas() {
            const filas = document.querySelectorAll('#tabla-calificaciones tbody tr');
            const datosEstudiantes = [];

            filas.forEach(fila => {
                const nombre = fila.querySelector('td:first-child').innerText;
                const inputs = fila.querySelectorAll('input[type="number"]');
                const notas = Array.from(inputs).map(input => parseFloat(input.value) || 0);

                datosEstudiantes.push({
                    nombre: nombre,
                    notas: notas
                });
            });
            
            localStorage.setItem('calificacionesEstudiantes', JSON.stringify(datosEstudiantes));
            alert('¡Calificaciones guardadas con éxito!');
        }

        if (botonGuardar) {
            botonGuardar.addEventListener('click', guardarNotas);
        }

       
        document.addEventListener('DOMContentLoaded', () => {
            const botonesBorrar = document.querySelectorAll('.btn-modal.borrar');

            function borrarNotasDeFila(event) {
                const confirmacion = confirm('¿Estás seguro de que quieres borrar todas las notas de este estudiante?');

                if (confirmacion) {
                    const filaParaBorrar = event.target.closest('tr');

                    if (filaParaBorrar) {
                        const inputsDeLaFila = filaParaBorrar.querySelectorAll('input[type="number"]');
                        inputsDeLaFila.forEach(input => {
                            input.value = '';
                        });
                        
                       
                        const celdaNotaFinal = filaParaBorrar.querySelector('.nota-final');
                        if(celdaNotaFinal) {
                           celdaNotaFinal.textContent = '-';
                        }
                        
                        guardarNotas(); 
                    }
                }
            }

            botonesBorrar.forEach(boton => {
                boton.addEventListener('click', borrarNotasDeFila);
            });
        });
    </script>
</body>
</html>